<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Yasic by sivizius</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-light.css">
    <meta name="viewport" content="width=device-width">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Yasic</h1>
        <p>a transcompiler for yasic-scripts to flatassembly, written in fasm-macros</p>

        <p class="view"><a href="https://github.com/sivizius/yasic">View the Project on GitHub <small>sivizius/yasic</small></a></p>


        <ul>
          <li><a href="https://github.com/sivizius/yasic/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/sivizius/yasic/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/sivizius/yasic">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <p>First of all some terms should be defined:</p>

<ul>
<li>»source« or »code«: the code you write in yasic</li>
<li>»output«: the output this compiler produce or the compiled form of it</li>
<li>»input«: the input for your compiled program</li>
</ul>

<p>A source file must start with this header:</p>

<pre><code>#!sba:yasic
</code></pre>

<p>and a newline character.</p>

<p>Then you could write some code, e.g.:</p>

<pre><code>label
{
  'hello world'
  {
    #print some text
    echo('hello my friend')
    jump('label')
  }
}
</code></pre>

<p><code>label {}</code> defines a new label in the output. You could refer to it e.g. with <code>jump('label')</code>, which creates <code>jmp label</code> in the output. After a label a block (<code>{ [...] }</code>) have to follow.</p>

<p>To compare the input with a regular expression, you could use <code>'something' {}</code>. This compares the input with the string »something«. If this comparison is true, the block would be executed, if not, the output jumps to the end of the block. I go into detail later.</p>

<p>If you just want to remark or just do not want something in the output, you could use comments:</p>

<pre><code>#comment from »#« to the end of the line.
</code></pre>

<p>There are also some predefined functions like <code>echo('text')</code> to let the output call an echo-function to print <em>'text'</em> or <code>jump('label')</code> to jump to <em>label</em>.
The end of a function-call is a <code>;</code> or a newline character, so if you want everything on one line, you have to use <code>;</code> at the end:</p>

<pre><code>'hello world' { echo('hello my friend'); }
</code></pre>

<p>It is time to compile this piece of code!
Yasic is written in flatassembler so you need to <a href="http://flatassembler.net/download.php">download</a> it, if not already done so far.
I also provided an <a href="https://github.com/sivizius/yasic/blob/master/sba.sh">shell-script</a>, but you could compile your source with:</p>

<pre><code>fasm -m 64000 "main.fasm" "output.fasm"
</code></pre>

<p>But before you compile <code>main.fasm</code>, you need to adjust the name of your source-file in this line of <a href="https://github.com/sivizius/yasic/blob/master/main.fasm"><code>main.fasm</code></a>:</p>

<pre><code>yasic_parse 'source-file.sba'
</code></pre>

<p>There are also some other options for the compiler in this file:</p>

<ul>
<li>
<p>to define the name of the echo-function in output:</p>

<p>yasic.OpEcho          equ 'echo_put'</p>
</li>
<li>
<p>jump here, if the input does not match:</p>

<p>yasic.FailSafe        equ 'fail_safe'</p>
</li>
<li>
<p>call this to get a new character:</p>

<p>yasic.GetChar         equ 'qword [ files.getChar ]'</p>
</li>
<li>
<p>if <code>echo</code> should called like this: <code>echo_put qword [ msg_0000000000000000 ]</code>, set this option</p>

<p>yasic.IndirectString  equ false</p>
</li>
<li>
<p>set the structure of strings (e.g. <code>db</code>):</p>

<p>yasic.Symbol          equ 'symbol'</p>
</li>
<li>
<p>where is the return-value of getChar? (e.g. <code>rax</code>)</p>

<p>yasic.TheChar         equ 'my_char'</p>
</li>
<li>
<p>if this option is true, the output is smaller, but less readable</p>

<p>yasic.MagicNumbers    equ false</p>
</li>
<li>
<p>set the indentation (not the indentation-size!)</p>

<p>yasic.Depth           equ 0</p>
</li>
</ul>

<p>.</p>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/sivizius">sivizius</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>
